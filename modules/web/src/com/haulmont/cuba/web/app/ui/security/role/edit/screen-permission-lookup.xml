<window
    xmlns="http://www.haulmont.com/schema/cuba/gui/window.xsd"
    caption="msg://screen-permissions"
    class="com.haulmont.cuba.web.app.ui.security.role.edit.ScreenPermissionsLookup"
    lookupComponent="permissions-tree"
>
    <metadataContext>
        <deployViews name="/com/haulmont/cuba/web/app/ui/security/user/user.views.xml"/>
        <deployViews name="/com/haulmont/cuba/web/app/ui/security/group/group.views.xml"/>
        <deployViews name="/com/haulmont/cuba/web/app/ui/security/role/role.views.xml"/>
    </metadataContext>

    <dsContext>
        <hierarchicalDatasource
            id="permissions"
            class="com.haulmont.cuba.gui.config.PermissionConfig$Target"
            view="role.edit"
        >
            <datasourceClass>com.haulmont.cuba.gui.security.ScreenPermissionTargetsDatasource</datasourceClass>
        </hierarchicalDatasource>
    </dsContext>

    <layout>
        <vbox expand="split" spacing="true">
            <split id="split" orientation="horizontal" pos="30">
                <tree id="permissions-tree">
                    <treechildren datasource="permissions" captionProperty="caption"/>
                </tree>
            </split>
            <optionsGroup id="access" multiselect="false" required="true" enable="false"/>
        </vbox>
    </layout>
</window>
