/*
 * Copyright (c) 2013 Haulmont Technology Ltd. All Rights Reserved.
 * Haulmont Technology proprietary and confidential.
 * Use is subject to license terms.
 */

// Version: $Id$

@mixin readonly-checkbox {
  width: 13px;
  height: 13px;
  background-position: center center;
}

@mixin havana-table($primaryStyleName : v-table) {
  .#{$primaryStyleName} {
    text-align: left;

    .checkbox-checked {
      @include readonly-checkbox;
      background-image: url(sprites/checkbox-checked.png); /** sprite-ref: components; */
    }

    .checkbox-unchecked {
      @include readonly-checkbox;
      background-image: url(sprites/checkbox-unchecked.png); /** sprite-ref: components; */
    }

    .#{$primaryStyleName}-header-wrap {
      height: 23px;
      background: $theme_tableHeaderBackgroundColor;
      border: 1px solid $theme_fieldBorderColor;
      border-bottom: none;
      overflow: hidden;
      position: relative;

      .#{$primaryStyleName}-header {
        height: 23px;

        .#{$primaryStyleName}-caption-container {
          height: 23px;
          float: left;
          overflow: hidden;
          white-space: nowrap;
          padding-top: 3px;
          margin-left: 5px;
          font-size: 11px;
        }

        .#{$primaryStyleName}-header-cell:hover,
        .#{$primaryStyleName}-header-cell-asc:hover,
        .#{$primaryStyleName}-header-cell-desc:hover {
          background: $theme_tableHeaderHoverBackgroundColor;
        }

        table {
          td {
            height: 23px;
            cursor: pointer;
          }
        }
      }

      .#{$primaryStyleName}-resizer {
        display: block;
        height: 23px;
        float: right;
        background-color: $theme_fieldBorderColor;
        cursor: col-resize;
      }

      .#{$primaryStyleName}-header > div {
        height: 23px;
      }
    }

    .v-table-body-wrapper {
      border: 1px solid $theme_fieldBorderColor;
    }

    .#{$primaryStyleName}-body {
      background: #fff;
    }

    .#{$primaryStyleName}-cell-content {
      border-right-color: $theme_tableCellSeparatorColor;
      font-size: 11px;

      .v-button-caption,
      .v-button-link .v-button-caption {
        font-size: 11px;
        color: $theme_buttonCaptionColor;
      }

      .#{$primaryStyleName}-cell-wrapper {
        font-size: 11px;
      }
    }

    .#{$primaryStyleName}-cell-wrapper.widget-container {
      padding-top: 2px;
      padding-bottom: 2px;
    }

    .#{$primaryStyleName}-row,
    .#{$primaryStyleName}-row-odd {
      background-color: $theme_tableRowBackgroundColor;
      height: 24px;
      cursor: default;
    }

    .#{$primaryStyleName}-row-odd {
      background-color: $theme_tableRowOddBackgroundColor;
    }

    .#{$primaryStyleName}-row:hover,
    .#{$primaryStyleName}-row-odd:hover {
      background-color: $theme_tableRowHoverBackgroundColor;
    }

    .#{$primaryStyleName}-caption-row {
      background-color: #c6cbcd;
      cursor: default;
    }

    .#{$primaryStyleName}-caption-row-content {
      white-space: nowrap;
      overflow: hidden;
      line-height: 15px;
    }

    .#{$primaryStyleName}-cell-content {
      line-height: 15px;
    }

    .#{$primaryStyleName}-row.v-selected,
    .#{$primaryStyleName}-row-odd.v-selected,
    .#{$primaryStyleName}-caption-row.v-selected {
      background-color: $theme_tableRowSelectionBackgroundColor;
    }

    .#{$primaryStyleName}-focus .#{$primaryStyleName}-cell-content {
      border-top: 0;
      border-bottom: 0;
    }

    .#{$primaryStyleName}-focus .#{$primaryStyleName}-cell-wrapper {
      margin-top: 0;
      margin-bottom: 0;
    }

    .#{$primaryStyleName}-header-cell-asc .#{$primaryStyleName}-sort-indicator,
    .#{$primaryStyleName}-header-cell-desc .#{$primaryStyleName}-sort-indicator {
      width: 10px;
      height: 10px;
      background: transparent;
      background-repeat: no-repeat;
      margin-right: 5px;
      margin-top: 4px;
    }

    .#{$primaryStyleName}-header-cell-asc .#{$primaryStyleName}-sort-indicator {
      background-image: url(sprites/sort-asc.png);      /** sprite-ref: components; */
    }

    .#{$primaryStyleName}-header-cell-desc .#{$primaryStyleName}-sort-indicator {
      background-image: url(sprites/sort-desc.png);    /** sprite-ref: components; */
    }

    .#{$primaryStyleName}-column-selector {
      width: 16px;
      height: 16px;
      margin-top: -20px;
      margin-right: 2px;
      background: transparent;
      background-repeat: no-repeat;
      background-image: url(sprites/column-selector.png);  /** sprite-ref: components; */
    }

    .#{$primaryStyleName}-scrollposition {
      width: 160px;
      height: 39px;
      border: 0;
      border-top: 5px solid transparent;
      background: transparent;
      background-origin: content-box;
      background-clip: content-box;
      background-repeat: no-repeat;
      background-image: url(sprites/scroll-position-bg.png);  /** sprite-ref: components-large; */
    }

    .#{$primaryStyleName}-scrollposition span {
      display: block;
      margin-top: 8px;
      text-align: center;
      font-weight:bold;
      border: 0;
    }
  }

  .#{$primaryStyleName}-column-selector-popup.v-contextmenu {
    .gwt-MenuItem {
      font-family: $theme_fonts;

      div {
        padding: 2px 8px 2px 18px;
      }

      .v-on div {
        background: transparent url(images/check.png) no-repeat 5px 50%
      }
    }

    .gwt-MenuItem-selected {
      div {
        background: $theme_fieldSelectionColor;
      }

      .v-on div {
        background: $theme_fieldSelectionColor url(images/check-hover.png) no-repeat 5px 50%;
        color: #fff;
      }
    }
  }

  .#{$primaryStyleName}-header-drag {
    position: absolute;
    background: #e7edf3;
    border: 1px solid #b6bbbc;
    opacity: 0.5;
    filter: alpha(opacity=50);
    margin-top: 20px;
    z-index: 30000;
    height: 23px;
    line-height: normal;
  }

  .#{$primaryStyleName} > div:focus {
    outline: none;
  }

  .#{$primaryStyleName} > div:focus {
    border-color: $theme_fieldFocusedBorderColor;
  }
}