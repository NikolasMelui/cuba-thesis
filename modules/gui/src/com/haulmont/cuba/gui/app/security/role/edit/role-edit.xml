<!--
  ~ Copyright (c) 2011 Haulmont Technology Ltd. All Rights Reserved.
  ~ Haulmont Technology proprietary and confidential.
  ~ Use is subject to license terms.
  -->

<window
        xmlns="http://schemas.haulmont.com/cuba/4.1/window.xsd"
        datasource="roleDs"
        caption="msg://caption"
        class="com.haulmont.cuba.gui.app.security.role.edit.RoleEditor"
        messagesPack="com.haulmont.cuba.gui.app.security.role.edit"
        lookupComponent="name"
        focusComponent="name">

    <metadataContext>
        <deployViews name="/com/haulmont/cuba/gui/app/security/role/role.views.xml"/>
    </metadataContext>

    <dsContext>
        <datasource id="roleDs" class="com.haulmont.cuba.security.entity.Role" view="_local"/>
    </dsContext>

    <assign name="width" value="200"/>

    <layout expand="permissionsTabsheet" spacing="true">
        <hbox spacing="true" margin="true">
            <grid spacing="true">
                <columns count="3"/>
                <rows>
                    <row>
                        <label value="msg://name"/>
                        <textField id="name" datasource="roleDs" property="name" width="${width}" required="true"
                                   requiredMessage="msg://nameMsg"/>
                    </row>
                    <row>
                        <label value="msg://locName"/>
                        <textField id="locName" datasource="roleDs" property="locName" width="${width}"/>
                    </row>
                </rows>
            </grid>

            <grid spacing="true">
                <columns count="3"/>
                <rows>
                    <row>
                        <label value="msg://roleType"/>
                        <lookupField id="typeLookup" datasource="roleDs" property="type"
                                     required="true" width="150"/>
                    </row>
                    <row>
                        <label value="msg://defaultRole"/>
                        <checkBox id="defaultRole" datasource="roleDs" property="defaultRole"/>
                    </row>
                </rows>
            </grid>

            <hbox spacing="true" id="descrBox" height="100%">
                <label value="msg://description"/>
                <textArea id="description" datasource="roleDs" property="description" rows="4"
                           height="100%" width="300px"/>
            </hbox>
        </hbox>

        <tabSheet id="permissionsTabsheet">
            <tab id="screenPermissionsTab" caption="msg://screen-permissions">
                <iframe src="/com/haulmont/cuba/gui/app/security/role/edit/tabs/screens-permission-tab.xml"
                        id="screensTabFrame" width="100%" height="100%"/>
            </tab>
            <tab id="entityPermissionsTab" caption="msg://entity-permissions" lazy="true">
                <iframe src="/com/haulmont/cuba/gui/app/security/role/edit/tabs/entities-permission-tab.xml"
                        id="entitiesTabFrame" width="100%" height="100%"/>
            </tab>
            <tab id="propertyPermissionsTab" caption="msg://property-permissions" lazy="true">
                <iframe src="/com/haulmont/cuba/gui/app/security/role/edit/tabs/attributes-permission-tab.xml"
                        id="attributesTabFrame" width="100%" height="100%"/>
            </tab>
            <tab id="specificPermissionsTab" caption="msg://specific-permissions" lazy="true">
                <iframe src="/com/haulmont/cuba/gui/app/security/role/edit/tabs/specific-permission-tab.xml"
                        id="specificTabFrame" width="100%" height="100%"/>
            </tab>
            <tab id="uiPermissionsTab" caption="msg://ui-permissions" lazy="true">
                <iframe src="/com/haulmont/cuba/gui/app/security/role/edit/tabs/ui-permission-tab.xml"
                        id="uiTabFrame" width="100%" height="100%"/>
            </tab>
        </tabSheet>
        <iframe id="windowActions" screen="editWindowActions"/>
    </layout>
</window>
