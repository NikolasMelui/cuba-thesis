<!--
  ~ Copyright (c) 2011 Haulmont Technology Ltd. All Rights Reserved.
  ~ Haulmont Technology proprietary and confidential.
  ~ Use is subject to license terms.
  -->

<window
    xmlns="http://www.haulmont.com/schema/cuba/gui/window.xsd"
    caption="msg://specific-permissions"
    class="com.haulmont.cuba.gui.app.security.role.edit.PermissionsLookup"
    lookupComponent="permissions-tree"
    focusComponent="permissions-tree"
>

    <companions>
        <web class="com.haulmont.cuba.web.app.ui.security.role.PermissionsLookupCompanion"/>
        <desktop class="com.haulmont.cuba.desktop.app.security.role.PermissionsLookupCompanion"/>
    </companions>

    <metadataContext>
        <deployViews name="/com/haulmont/cuba/gui/app/security/role/role.views.xml"/>
    </metadataContext>

    <dsContext>
        <hierarchicalDatasource
            id="permissions"
            class="com.haulmont.cuba.security.ui.BasicPermissionTarget"
            view="role.edit"
        >
            <datasourceClass>com.haulmont.cuba.gui.security.SpecificPermissionTargetsDatasource</datasourceClass>
        </hierarchicalDatasource>
    </dsContext>

    <layout>
        <vbox expand="split" spacing="true">
            <label id="permissionsType" stylename="h2"/>
            <split id="split" orientation="horizontal" pos="30">
                <widgetsTree id="permissions-tree">
                    <items datasource="permissions"/>
                </widgetsTree>
            </split>
            <hbox margin="true" spacing="true">
                <button id="checkAll" icon="icons/checkAll.png"/>
                <button id="uncheckAll" icon="icons/uncheckAll.png"/>
            </hbox>
        </vbox>
    </layout>
</window>
