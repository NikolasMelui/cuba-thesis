<?xml version='1.0' encoding='UTF-8'?>
<!-- This document was created with Syntext Serna Free. -->
<chapter lang="ru">
  <title>Создание и настройка проекта приложения</title>
  <orderedlist>
    <listitem>
      <para>Создайте рабочую папку для проекта, например, <filename>c:/work/shop_project</filename>.</para>
    </listitem>
    <listitem>
      <para>Разархивируйте в эту папку поставляемую заготовку для проекта приложения.</para>
    </listitem>
    <listitem>
      <para>Далее создайте пустую базу данных с названием <database>shop</database>. Для этого откройте <application>pgAdmin</application>: зайдите в меню <guimenu>Пуск</guimenu>, далее − <application>PostgreSQL 8.3</application>, далее выберите <application>pgAdmin III</application>. В отобразившемся окне нажмите правой клавишей мыши на <guilabel>PostgreSQL Database Server 8.3 (localhost:5432)</guilabel> и в открывшемся контекстном меню выберите <guilabel>Подсоединение</guilabel>. Далее нажмите правой клавишей мыши на <guilabel>Базы</guilabel> и в открывшемся контекстном меню выберите <guilabel>Новая база данных</guilabel>. На экране отобразится окно, представленное на рисунке:</para>
      <mediaobject>
        <imageobject>
          <imagedata align="center" fileref="img/new_db.png"/>
        </imageobject>
      </mediaobject>
      <para>В качестве имени укажите <database>shop</database>. Далее нажмите кнопку <guibutton>ОК</guibutton>. Новая база данных создана.</para>
    </listitem>
    <listitem>
      <para>Запустите командную строку в каталоге <filename>c:/work/shop_projects/shop</filename>.</para>
    </listitem>
    <listitem>
      <para>Собираем проект. На этом этапе будут загружены все необходимые библиотеки и в каталогах модулей в подкаталогах <filename>build</filename> будут собраны артефакты проекта. В командной строке введите команду</para>
      <para><prompt>gradle assemble</prompt></para>
    </listitem>
    <listitem>
      <para>Устанавливаем сервер приложений <application>Tomcat</application>:</para>
      <para><prompt>gradle setupTomcat</prompt></para>
    </listitem>
    <listitem>
      <para>Разворачиваем артефакты и библиотеки проекта в <application>Tomcat</application>:</para>
      <para><prompt>gradle deploy</prompt></para>
    </listitem>
    <listitem>
      <para>Откройте файл <filename>shop-app.properties</filename> модуля <structname>core</structname> и добавьте туда следующую строку:</para>
      <para><prompt>cuba.automaticDatabaseUpdate=true</prompt></para>
      <para>После этого автоматическое обновление будет произведено при старте сервера.</para>
    </listitem>
    <listitem>
      <para>Запускаем сервер:</para>
      <para><prompt>gradle start</prompt></para>
    </listitem>
    <listitem>
      <para>Чтобы работать с проектом в <application>IntelliJ IDEA</application>, запускаем команду, с помощью которой собираются проектные файлы <filename>*.ipr</filename>, <filename>*.iml</filename>.</para>
      <para><prompt>gradle idea</prompt></para>
    </listitem>
    <listitem>
      <para>Для просмотра приложения в веб-браузере введите в адресную строку <ulink url="http://localhost:8080/app">http://localhost:8080/app</ulink></para>
      <para>Логин и пароль пользователя − admin/admin.</para>
    </listitem>
  </orderedlist>
</chapter>
