(ActionsField) getComponent("parentCard")).addAction(new AbstractAction(ActionsField.LOOKUP) {

    public void actionPerform(Component component) {
        if (DocTypeSelector.isNeeded("read")) {
            final DocTypeSelector docTypeSelector = new DocTypeSelector("select");
            docTypeSelector.addListener(new com.vaadin.ui.Window.CloseListener() {
                public void windowClose(com.vaadin.ui.Window.CloseEvent e) {
                    openCardLookup(docTypeSelector.getEntityName());
                }
            });
            docTypeSelector.show();
        } else {
            openCardLookup(((Instance) getItem()).getMetaClass().getName());
        }
    }
});